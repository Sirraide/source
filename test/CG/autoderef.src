// R %srcc --ir --target x86_64-unknown-linux -foverflow-checks=false %s
program test;

struct s { int x; }

proc sink(int x) extern;

s a = (1);
var p1 = &a;
var p2 = &p1;
var p3 = &p2;
sink(a.x + p1.x + p2.x + p3.x);

// * @_S1a.1 = private 8, align 8
// + @_S2p1.2 = private 8, align 8
// + @_S2p2.3 = private 8, align 8
// + @_S2p3.4 = private 8, align 8
// +
// + proc __src_main norecurse external ccc {
// + entry:
// +     store @_S1a.1, i64 1, align 8
// +     store @_S2p1.2, ptr @_S1a.1, align 8
// +     store @_S2p2.3, ptr @_S2p1.2, align 8
// +     store @_S2p3.4, ptr @_S2p2.3, align 8
// +     %0 = load i64, @_S1a.1, align 8
// +     %1 = load ptr, @_S2p1.2, align 8
// +     %2 = load i64, %1, align 8
// +     %3 = add i64 %0, %2
// +     %4 = load ptr, @_S2p2.3, align 8
// +     %5 = load ptr, %4, align 8
// +     %6 = load i64, %5, align 8
// +     %7 = add i64 %3, %6
// +     %8 = load ptr, @_S2p3.4, align 8
// +     %9 = load ptr, %8, align 8
// +     %10 = load ptr, %9, align 8
// +     %11 = load i64, %10, align 8
// +     %12 = add i64 %7, %11
// +     call ccc void sink(i64 %12)
// +     ret
// + }
// +
// + proc sink (i64) external ccc;
